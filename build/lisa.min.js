'use strict';var Lisa=new function(a){var b=this;if(a&&!(a instanceof HTMLDivElement))throw new Error('[Lisa] Invalid DOM area provided');var c=a||document.createElement('div');this.escapeHtml=function(d){return d.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;')},this.format=function(d){return b.escapeHtml(d).replace(/\*(.*?)\*/g,'<strong>$1</strong>').replace(/_(.*?)_/g,'<em>$1</em>').replace(/~(.*?)~/g,'<del>$1</del>')},this.says=function(d){var f=document.createElement('div');f.setAttribute('class','message message-lisa'),f.innerHTML='<strong>Lisa : </strong>'+b.format(d),c.appendChild(f),b.scrollToEnd()},this.hears=function(d){var f=document.createElement('div');f.setAttribute('class','message message-user'),f.innerHTML='<strong>You : </strong>'+b.format(d),c.appendChild(f),b.scrollToEnd()},this.scrollToEnd=function(){var d=c.scrollHeight-c.scrollTop,f=setInterval(function(){return c.scrollTop++},Math.floor(2e3/d));setTimeout(function(){return clearInterval(f)},2e3)},this.__defineGetter__('dom',function(){return c})};Lisa.dom.setAttribute('id','discuss'),document.body.appendChild(Lisa.dom);var input=document.createElement('input');input.setAttribute('id','input'),input.addEventListener('keydown',function(a){if(13===a.keyCode){if(!input.value.length)return;var b=input.value;input.value='',Lisa.hears(b)}}),document.body.appendChild(input);
